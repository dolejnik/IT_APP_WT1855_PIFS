@using ServiceOfElectronicDevices.Models
@model UserRolesViewModel

@{
    ViewBag.Title = "ManageUserRoles";
}

<h2>Zarządzanie rolami użytkowników</h2>
@*@Html.ActionLink("Create New Role", "Create") | @Html.ActionLink("Manage User Role", "ManageUserRoles")*@
<hr />

<div class="col-xs-6">
    <div class="panel panel-success">
        <div class="panel-heading">
            <h3 class="panel-title">Dodaj rolę użytkownikowi</h3>
        </div>

        <div class="panel-body">
            @using (Html.BeginForm("AddRoleToUser", "UserRoles"))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true)

                <p>
                    Login : @Html.DropDownListFor(m => m.UserId, Model.Users, new { @class = "form-control" })
                    Rola: @Html.DropDownListFor(m => m.Role, Model.Roles, new { @class = "form-control" })
                </p>

                <input type="submit" value="Dodaj" class="btn btn-success" />
            }
            <hr />
        </div>
    </div>
</div>

    @*<h3>Get Roles for a User</h3>
        @using (Html.BeginForm("GetRoles", "UserRoles"))
        {
            @Html.AntiForgeryToken()
            <p>
                Username : @Html.TextBox("UserName")
                <input type="submit" value="Get Roles for this User" />
            </p>
        }

        @if (ViewBag.RolesForThisUser != null)
        {
            <div style="background-color:yellow;">
                <h3>Roles for this user </h3>
                <ol>
                    @foreach (string s in ViewBag.RolesForThisUser)
                    {
                        <li>@s</li>
                    }
                </ol>
            </div>
        }*@



    <div class="col-xs-6">

        <div class="panel panel-danger">
            <div class="panel-heading">
                <h3 class="panel-title">Usuń rolę użytkownikowi</h3>
            </div>

            <div class="panel-body">
                @using (Html.BeginForm("RemoveRoleFromUser", "UserRoles"))
            {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)

                    <p>
                        Login : @Html.DropDownListFor(m => m.UserId, Model.Users, new { @class = "form-control" })
                        Rola: @Html.DropDownListFor(m => m.Role, Model.Roles, new { @class = "form-control" })

                    </p>

                    <input type="submit" value="Usuń" class="btn btn-danger" />
                }
                <hr />
            </div>
        </div>

    </div>
